{% extends "base.html" %}

{% block content %}
<div style="text-align: center; max-width: 600px; margin: 40px auto;">

    <h1>AI Art Mood App</h1>
    <p class="muted">A dissertation project for generating AI art based on emotions.</p>

    <div class="card" style="text-align: left; margin-top: 32px; padding: 24px;">
        <h4>Participant Information & Consent</h4>
        <p>Welcome! This application is part of a university dissertation project. Your participation is completely anonymous.</p>
        <ul>
            <li><strong>Data Collected:</strong> We collect your chosen emotion, text prompts, and your feedback on the AI-generated images and advice.</li>
            <li><strong>Anonymity:</strong> We use pre-defined usernames and do <strong>not</strong> collect personal data like IP addresses.</li>
            <li><strong>Important:</strong> For your privacy, please do <strong>not</strong> enter any personal information (such as your real name, location, or email) into the prompt or comment boxes.</li>
        </ul>
        <p>By proceeding, you consent to your anonymous data being used for the purposes of this research project.</p>

        <div class="checkbox-container" style="margin-top: 20px;">
             <label for="consent-checkbox" style="display: flex; align-items: center; cursor: pointer;">
                <input type="checkbox" id="consent-checkbox" style="margin-right: 8px;">
                I have read the information and agree to participate.
            </label>
        </div>
    </div>

    <div class="button-group" style="margin-top: 32px; display: flex; justify-content: center; gap: 16px;">
        <a id="users-link" href="{{ url_for('main.login') }}">
            <button id="users-button" class="button" disabled>Participate as a User</button>
        </a>
        <a href="{{ url_for('main.admin_login_page') }}">
            <button class="secondary">Admin Login</button>
        </a>
    </div>

</div>

<script>
    // Wait for the page to fully load before running the script
    document.addEventListener('DOMContentLoaded', function() {
        // Get the elements from the page
        const consentCheckbox = document.getElementById('consent-checkbox');
        const userButton = document.getElementById('users-button');
        const userLink = document.getElementById('users-link');

        // Function to update the button's state
        function updateUserButtonState() {
            userButton.disabled = !consentCheckbox.checked;
        }

        // Listen for changes on the checkbox
        consentCheckbox.addEventListener('change', updateUserButtonState);

        // Listen for clicks on the link
        userLink.addEventListener('click', function(event) {
            // If the button is disabled, prevent the link from working
            if (userButton.disabled) {
                event.preventDefault();
            }
        });
    });
</script>
{% endblock %}

